@import "tailwindcss";
@custom-variant dark (&:where(.dark, .dark *));
/* ============================================
   BASE LAYER - Global Resets & Defaults
   ============================================ */
@layer base {
  /* CSS Reset */
  *,
  *::before,
  *::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
  }

  /* Root & Body Defaults */
  html {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }
html, body {
  background-color: #EDEDED;
}
/* Prevent theme flicker on load */
html:not(.theme-ready) * {
  transition: none !important;
}

.dark html, .dark body {
  background-color: #1a1613;
}


  body {
    background-color: #EDEDED;
    color: var(--color-ink);
    font-family: var(--font-family-mono);
    line-height: 1.6;
    min-height: 100vh;
  }

  /* Dark Mode Body */
  :root.dark body {
    background-color: #1a1613;
    color: #e8e6e1;
  }

  /* Typography Defaults */
  h1, h2, h3, h4, h5, h6 {
    font-weight: 600;
    line-height: 1.2;
  }

  p {
    margin-bottom: 1rem;
  }

  /* Form Elements */
  input,
  textarea,
  button,
  select {
    font-family: inherit;
    font-size: inherit;
    line-height: inherit;
  }

  button {
    cursor: pointer;
    background: none;
    border: none;
  }

  /* Links */
  a {
    color: inherit;
    text-decoration: none;
  }

  /* Lists */
  ul, ol {
    list-style: none;
  }

  /* Images */
  img {
    max-width: 100%;
    height: auto;
    display: block;
  }

  /* Custom Scrollbar - Vintage Feel */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    background: var(--color-paper-dark);
  }

  ::-webkit-scrollbar-thumb {
    background: #d1d5db;
    border-radius: 4px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: #9ca3af;
  }

  /* Dark Mode Scrollbar */
  :root.dark ::-webkit-scrollbar-track {
    background: #2a2520;
  }

  :root.dark ::-webkit-scrollbar-thumb {
    background: #4a443f;
  }

  :root.dark ::-webkit-scrollbar-thumb:hover {
    background: #5a544f;
  }

  /* Selection */
  ::selection {
    background-color: rgba(26, 26, 26, 0.1);
    color: var(--color-ink);
  }

  /* Dark Mode Selection */
  :root.dark ::selection {
    background-color: rgba(232, 230, 225, 0.2);
    color: #e8e6e1;
  }
}

/* ============================================
   COMPONENTS LAYER - Reusable Patterns
   ============================================ */
@layer components {
  /* Focus Visible Styles */
  .focus-ring {
    outline: none;
    ring: 2px solid rgba(26, 26, 26, 0.2);
    ring-offset: 2px;
  }

  /* Card Pattern */
  .card {
    background-color: var(--color-paper);
    border-radius: 0.125rem;
    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    border: 1px solid rgba(26, 26, 26, 0.1);
  }

  /* Button Base */
  .btn {
    padding: 0.5rem 1rem;
    border-radius: 0.125rem;
    font-weight: 500;
    transition: background-color 0.2s, color 0.2s;
  }

  .btn-primary {
    background-color: var(--color-ink);
    color: var(--color-paper);
  }

  .btn-primary:hover {
    background-color: rgba(26, 26, 26, 0.9);
  }

  .btn-secondary {
    background-color: var(--color-paper-dark);
    color: var(--color-ink);
    border: 1px solid rgba(26, 26, 26, 0.2);
  }

  .btn-secondary:hover {
    background-color: rgba(245, 242, 232, 0.8);
  }

  /* Input Base */
  .input {
    width: 100%;
    padding: 0.5rem 0.75rem;
    background-color: var(--color-paper);
    border: 1px solid rgba(26, 26, 26, 0.2);
    border-radius: 0.125rem;
    transition: all 0.2s;
  }

  .input:focus {
    outline: none;
    ring: 2px solid rgba(26, 26, 26, 0.2);
  }

  /* Textarea Base */
  .textarea {
    width: 100%;
    padding: 0.5rem 0.75rem;
    background-color: var(--color-paper);
    border: 1px solid rgba(26, 26, 26, 0.2);
    border-radius: 0.125rem;
    resize: none;
    transition: all 0.2s;
  }

  .textarea:focus {
    outline: none;
    ring: 2px solid rgba(26, 26, 26, 0.2);
  }
}

/* ============================================
   UTILITIES LAYER - Custom Utilities
   ============================================ */

/* Hide Scrollbar Utility */
@utility scrollbar-hidden {
  &::-webkit-scrollbar {
    display: none;
  }
}

/* Paper Texture Effect Utility */
@utility paper-texture {
  background-image: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 31px,
    rgba(26, 26, 26, 0.03) 31px,
    rgba(26, 26, 26, 0.03) 32px
  );
}

/* Additional utility classes for scrollbar hiding */
.scrollbar-hidden {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.scrollbar-hidden::-webkit-scrollbar {
  display: none;
}

/* Smooth scroll utility */
.scroll-smooth {
  scroll-behavior: smooth;
}

/* Text balance utility */
.text-balance {
  text-wrap: balance;
}

/* Calm, minimal interaction utilities */
.ease-out-gentle {
  transition-timing-function: cubic-bezier(0.33, 1, 0.68, 1);
}

.ease-in-gentle {
  transition-timing-function: cubic-bezier(0.32, 0, 0.67, 0);
}

/* Line clamp utilities */
.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.line-clamp-3 {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.ProseMirror p {
  @apply m-0 ;
}





.title-editor .ProseMirror p,
.body-editor .ProseMirror p {
  @apply m-0;
  @apply pt-0;
}
/* Title */
.title-editor .ProseMirror {
  @apply outline-none;
    @apply text-3xl font-bold;
}
*/* ===============================
   TIPTAP PLACEHOLDER â€” FINAL
   =============================== */

/* Base editor */
.ProseMirror {
  background: transparent;
  color: inherit;
  caret-color: currentColor;
}

/* Placeholder (works for new + old Tiptap) */
.ProseMirror p.is-empty::before,
.ProseMirror p.is-editor-empty:first-child::before {
  content: attr(data-placeholder);
  color: #9ca3af; /* neutral-400 */
  pointer-events: none;
  float: left;
  height: 0;
}

/* Dark mode placeholder */
.dark .ProseMirror p.is-empty::before,
.dark .ProseMirror p.is-editor-empty:first-child::before {
  color: #6b7280; /* neutral-500 */

}

/* Remove focus outline */
.ProseMirror:focus,
.ProseMirror-focused {
  outline: none;
  box-shadow: none;
}

/* Selection */
.ProseMirror ::selection {
  background: rgba(96, 165, 250, 0.35);
}

.dark .ProseMirror ::selection {
  background: rgba(147, 197, 253, 0.35);
}

.tippy-box {
  will-change: transform, opacity;
  transform: translateZ(0);
}
.ProseMirror:focus {
  outline: none;
}

.ProseMirror-focused {
  outline: none;
  box-shadow: none;
}

/* Base editor */
.ProseMirror {
  background: transparent;
  color: inherit;
  
}

/* Dark mode editor surface */
.dark .ProseMirror {
  color: #e5e7eb; /* neutral-200 */
}

/* Selection */
.ProseMirror ::selection {
  background: rgba(96, 165, 250, 0.35);
}

.dark .ProseMirror ::selection {
  background: rgba(147, 197, 253, 0.35);
}

/* Placeholder text */
.ProseMirror p.is-editor-empty:first-child::before {
  color: #9ca3af;
}

.dark .ProseMirror p.is-editor-empty:first-child::before {
  color: #6b7280;
}

/* Caret color */
.ProseMirror {
  caret-color: currentColor;
}
